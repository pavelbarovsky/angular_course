<div class="register_container">
  <div class="register_title">
    <p>Зарегистрируйте ваш аккаунт</p>
  </div>

  <form class="register_form_container" #registerForm="ngForm" (ngSubmit)="onRegister()" novalidate>
    
    <div class="form-group">
      <label for="username">Логин</label>
      <div class="input-container">
        <input 
          type="text" 
          id="username" 
          name="username" 
          [(ngModel)]="user.username" 
          required minlength="1" 
          #username="ngModel" 
          [class.is-invalid]="username.invalid && (username.dirty || username.touched)"
        />
        <svg *ngIf="username.invalid && (username.dirty || username.touched)" class="error-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM9 12C9 12.5523 8.55229 13 8 13C7.44772 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11C8.55229 11 9 11.4477 9 12ZM8 3C7.44772 3 7 3.44772 7 4V8C7 8.55228 7.44772 9 8 9C8.55229 9 9 8.55228 9 8V4C9 3.44772 8.55229 3 8 3Z" fill="#EF4444" />
        </svg>
      </div>
    </div>

    <div class="form-group">
      <label for="password">Пароль</label>
      <div class="input-container">
        <input 
          id="password" 
          type="password" 
          name="password" 
          [(ngModel)]="user.password" 
          required minlength="4" 
          #password="ngModel" 
          [class.is-invalid]="password.invalid && (password.dirty || password.touched)"
        />
        <svg *ngIf="password.invalid && (password.dirty || password.touched)" class="error-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM9 12C9 12.5523 8.55229 13 8 13C7.44772 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11C8.55229 11 9 11.4477 9 12ZM8 3C7.44772 3 7 3.44772 7 4V8C7 8.55228 7.44772 9 8 9C8.55229 9 9 8.55228 9 8V4C9 3.44772 8.55229 3 8 3Z" fill="#EF4444" />
        </svg>
      </div>
    </div>

    <div class="form-group">
      <label for="firstName">Имя</label>
      <div class="input-container">
        <input 
          id="firstName" 
          type="text" 
          name="firstName" 
          [(ngModel)]="user.firstName" 
          required minlength="1" 
          #firstName="ngModel" 
          [class.is-invalid]="firstName.invalid && (firstName.dirty || firstName.touched)"
        />
        <svg *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)" class="error-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM9 12C9 12.5523 8.55229 13 8 13C7.44772 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11C8.55229 11 9 11.4477 9 12ZM8 3C7.44772 3 7 3.44772 7 4V8C7 8.55228 7.44772 9 8 9C8.55229 9 9 8.55228 9 8V4C9 3.44772 8.55229 3 8 3Z" fill="#EF4444" />
        </svg>
      </div>
    </div>

    <div class="form-group">
      <label for="lastName">Фамилия</label>
      <div class="input-container">
        <input 
          id="lastName" 
          type="text" 
          name="lastName" 
          [(ngModel)]="user.lastName" 
          required minlength="1" 
          #lastName="ngModel" 
          [class.is-invalid]="lastName.invalid && (lastName.dirty || lastName.touched)"
        />
        <svg *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)" class="error-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM9 12C9 12.5523 8.55229 13 8 13C7.44772 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11C8.55229 11 9 11.4477 9 12ZM8 3C7.44772 3 7 3.44772 7 4V8C7 8.55228 7.44772 9 8 9C8.55229 9 9 8.55228 9 8V4C9 3.44772 8.55229 3 8 3Z" fill="#EF4444" />
        </svg>
      </div>
    </div>

    <div class="form-group">
      <label for="middleName">Отчество (при наличии)</label>
      <input 
        id="middleName" 
        type="text" 
        name="middleName" 
        [(ngModel)]="user.middleName" 
      />
    </div>

    <button 
      type="button" 
      class="btn" 
      [ngClass]="{'btn-primary': registerForm.form.valid, 'btn-disabled': registerForm.form.invalid}" 
      (click)="registerForm.form.invalid ? disabledRegister() : onRegister()"
    >
    Зарегистрироваться
  </button>

  </form>
</div>
